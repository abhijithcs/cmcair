<ion-view view-title="Announcements" style="background: #ecf0f1" hide-nav-bar="true">

      <ion-header-bar class="bar-positive">
         <div class="buttons" style="position: absolute; top: 5px; left: 5px; bottom: 5px; width: 100%">

            <button class="button button-clear" style="text-align: left; margin-left: 10px; font-weight: 500; color: #FFF; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; font-size: 18px;">
             Announcements
            </button>  

            <button class="button button-clear clearSearchFilterButton" style="position: absolute; top: 0px; right: 10px;" ng-click="goToTiles()">
              <i class="icon ion-navicon"></i> 
            </button>  


         </div>

      </ion-header-bar>



  <ion-content class="padding">

  <button ng-if="tableMetaData.flag" class="button button-block button-energized" style="background: #2c3e50;color: #f39c12; margin: 0; border: none; border-radius: 0;">
    {{tableMetaData.title}}
  </button>

  <ion-list ng-if="tableMetaData.flag" class="list" ng-repeat="item in tableList track by $index" style="margin-top: 300px;">
    <li class="item item-icon-left item-icon-right" style="background: #34495e; color: #ecf0f1">
      <i class="icon" style="font-size:20px;">#{{item.rank}}</i>
      {{item.title}}
      <i class="icon" style="font-size:20px;">{{item.points}}</i>
    </li>

  </ion-list>


  <ion-refresher
    on-refresh="doRefresh()">
  </ion-refresher>







<!-- Loader Dummy Tiles -->
<div ng-if="!isRenderLoaded && !renderFailed">
    <div class="row" style="padding: 10px 0 0 0"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 0 0 0"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 0 0 0"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 0 0 0"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 0 0 0"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>
</div>

<div ng-if="renderFailed" style="padding: 40px 20px 20px 20px;">
  <center>
    <img src="img/error_icon.png">
    <p style="color: #e88f8f; margin: 10px; font-size: 15px;">Unable to fetch data. Try again.</p>
  </center>
</div>


    <ion-list ng-repeat="feed in feedsList track by $index">
      <ion-item class="card neatBorder" id="ann_{{feed.postID}}" style="margin: 10px 0 0 0">


        <div class="item item-body">
          <p style="color: #16a085; font-size: 21px; line-height: 24px; font-weight: 400;" ng-class="getColor(feed.postID)">{{feed.content}}</p>
          <p style="font-size: 12px;"><i class="icon ion-person"></i> {{feed.user}} {{feed.role != 'Student' ? '('+feed.role+')' : ''}}<br>
          <tag style="color:#B6B6B6"><i class="icon ion-ios-clock-outline"></i> {{feed.time}}</tag>
          <i ng-if="feed.selfFlag" on-hold="deleteAnnouncement(feed.postID, $index)" class="icon ion-trash-a pull-right" on-tap="deleteAnnouncement(feed.postID, $index)" id="{{feed.postID}}" style ="color:#e74c3c; float: right; font-size: 21px;"></i></p>
        </div>


      </ion-item>
    </ion-list>
    <i ng-if="!left"><center><img src="img/end.png"></center></i>

  <ion-infinite-scroll
        immediate-check="false"
        ng-if="left"
    on-infinite="loadMore()"
    distance="1%">
  </ion-infinite-scroll>

  </ion-content>
</ion-view>
